<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>后台管理系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="keywords" content="后台管理系统" />
    <meta name="description" content="基于thymeleaf + spring boot + JPA 的后台管理系统" />
    <link rel="shortcut icon" th:href="@{/images/favicon.ico}" type="image/x-icon"/>
    <link rel="stylesheet" th:href="@{/lib/layui/css/layui.css}" />
    <link rel="stylesheet" th:href="@{//at.alicdn.com/t/font_693759_ask70l8wanw.css}" />
    <link rel="stylesheet" th:href="@{/css/login.css}"/>
	<link rel="stylesheet" th:href="@{/lib/nprogress/nprogress.css}" />
    <script type="text/javascript" th:src="@{/lib/jquery/jquery-2.1.1.min.js}"></script>
</head>
<body>
    <div class="login-box animated rotateIn">
        <div class="head">
            <span>欢迎登陆</span>
            <a href="javascript:void(0);" class="register">注册</a>
        </div>
        <div class="input-box">
            <form class="layui-form" method="post">
                <input type="text" name="userName" required="required" lay-verify="required" placeholder="账号" autocomplete="off" class="layui-input" />
                <input type="password" name="password" required="required" lay-verify="required" placeholder="密码" autocomplete="off" class="layui-input" />
                <div class="validate-code">
                    <input type="text" name="validateCode" required="required" lay-verify="required" placeholder="验证码" maxlength="4" autocomplete="off" class="layui-input" />
                    <img calss="validate-code-img" th:src="@{/captcha}" /><a href="javascript:void(0);" class="checkcode-update">刷新</a>
                </div>
                <div class="remember-me">
                    <span>记住我：</span>
                    <input type="checkbox" name="remember" lay-skin="switch" lay-text="是|否" />
                    <a href="javascript:void(0);" class="forget-password">忘记密码?</a>
                </div>
                <input type="submit" value="登 录" lay-submit="" lay-filter="login" />
            </form>
            <!--<div class="oauth">-->
                <!--<i class="iconfont icon-WechatIMG" style="font-size: 25px;"></i>-->
                <!--<i class="iconfont icon-github"></i>-->
                <!--<i class="iconfont icon-logo-weibo"></i>-->
                <!--<i class="iconfont icon-qq"></i>-->
                <!--<i class="iconfont icon-weixin"></i>-->
                <!--<i class="iconfont icon-zhifubao"></i>-->
            <!--</div>-->
        </div>
        <div class="copyright">

        </div>
    </div>
    <!--js逻辑-->
    <script th:src="@{/js/login.js}"></script>
    <script th:src="@{/lib/layui/layui.js}"></script>
	<script th:src="@{/lib/nprogress/nprogress.js}"></script>
    <script>
		NProgress.start();
		window.onload = function() {
		    NProgress.done();
		}
        layui.use(['form', 'jquery'], function () {
            var form = layui.form;
            var layer = layui.layer;

            form.on('submit(login)', function (data) {
                layer.msg("登陆中...", {icon: 6, time: 1000, anim: 4}, function () {
                    $.post("/login",data.field,function(res){
                        if(res == "11"){
                            console.log("=====>" + res);
                            layer.msg(res, {time: 2000});
                            setTimeout(window.location.href="/index",2000);
                        }else{
                            $('.layui-form')[0].reset();
                            layer.msg(res, {time: 2000});
                        }
                    }).error(function(){
                        layer.msg("网络异常", {time: 2000});
                    });
                });
                return false;
            });

//            $(".oauth .icon-WechatIMG").click(function () {
//                layer.msg('正在打开Gitee登陆页面，请稍后...');
//            });
//
//            $(".oauth .icon-github").click(function () {
//                layer.msg('正在打开Github登陆页面，请稍后...');
//            });
//
//            $(".oauth .icon-logo-weibo").click(function () {
//                layer.msg('正在打开微博登陆页面，请稍后...');
//            });
//
//            $(".oauth .icon-qq").click(function () {
//                layer.msg('正在打开QQ登陆页面，请稍后...');
//            });
//
//            $(".oauth .icon-weixin").click(function () {
//                layer.msg('正在打开微信登陆页面，请稍后...');
//            });
//
//            $(".oauth .icon-zhifubao").click(function () {
//                layer.msg('正在打开支付宝登陆页面，请稍后...');
//            });
        });
    </script>
</body>
</html>